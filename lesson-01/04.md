db.users.insertMany([
  {
    name: { first: "Test", last: "User1" },
    email: "test1@delete.com",
    role: "customer",
    status: "test"
  },
  {
    name: { first: "Test", last: "User2" },
    email: "test2@delete.com",
    role: "customer",
    status: "test"
  },
  {
    name: { first: "Test", last: "User3" },
    email: "test3@delete.com",
    role: "customer",
    status: "test"
  }
])

{
  acknowledged: true,
  insertedIds: {
    '0': ObjectId('68f896122a0031f3dc79301a'),
    '1': ObjectId('68f896122a0031f3dc79301b'),
    '2': ObjectId('68f896122a0031f3dc79301c')
  }
}   


db.users.find({ status: "test" })
{
  _id: ObjectId('68f896122a0031f3dc79301c'),
  name: {
    first: 'Test',
    last: 'User3'
  },
  email: 'test3@delete.com',
  role: 'customer',
  status: 'test'
}


db.users.countDocuments({ status: "test" })
3





db.users.deleteOne({ email: "test1@delete.com" })
{
  acknowledged: true,
  deletedCount: 1
}


db.users.findOne({ email: "test1@delete.com" })
null



db.users.countDocuments({ status: "test" })
2








db.products.insertMany([
  {
    sku: "TEST-001",
    name: "Test Product 1",
    category: "Test",
    price: 5.99,
    status: "active"
  },
  {
    sku: "TEST-002",
    name: "Test Product 2",
    category: "Test",
    price: 8.99,
    status: "active"
  }
])
{
  acknowledged: true,
  insertedIds: {
    '0': ObjectId('68f896d42a0031f3dc79301d'),
    '1': ObjectId('68f896d42a0031f3dc79301e')
  }
}







db.products.find({ category: "Test", price: { $lt: 10 } })
{
  _id: ObjectId('68f896d42a0031f3dc79301e'),
  sku: 'TEST-002',
  name: 'Test Product 2',
  category: 'Test',
  price: 8.99,
  status: 'active'
}
{
  _id: ObjectId('68f896d42a0031f3dc79301d'),
  sku: 'TEST-001',
  name: 'Test Product 1',
  category: 'Test',
  price: 5.99,
  status: 'active'
}



db.products.deleteMany({ category: "Test", price: { $lt: 10 } })
{
  acknowledged: true,
  deletedCount: 2
}






db.users.find({ status: "inactive" })
db.users.countDocuments({ status: "inactive" })
3




db.users.deleteMany({ status: "inactive" })
{
  acknowledged: true,
  deletedCount: 3
}








db.products.deleteMany({
  createdAt: { $lt: ISODate("2024-01-01") }
})
{
  acknowledged: true,
  deletedCount: 10
}







db.testCollection.insertMany([
  { name: "Item 1" },
  { name: "Item 2" },
  { name: "Item 3" }
])
{
  acknowledged: true,
  insertedIds: {
    '0': ObjectId('68f8974a2a0031f3dc79301f'),
    '1': ObjectId('68f8974a2a0031f3dc793020'),
    '2': ObjectId('68f8974a2a0031f3dc793021')
  }
}

db.testCollection.deleteMany({})
{
  acknowledged: true,
  deletedCount: 3
}


db.testCollection.countDocuments()
0








db.users.updateOne(
  { email: "user@example.com" },
  {
    $set: {
      status: "deleted",
      deletedAt: new Date()
    }
  }
)
  acknowledged: true,
  insertedId: null,
  matchedCount: 0,
  modifiedCount: 0,
  upsertedCount: 0




db.users.find({ status: { $ne: "deleted" } })
{
  _id: ObjectId('68f0f405332a72f18d7f8f7c'),
  email: 'grace.martin@yahoo.com',
  password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
  name: {
    first: 'Grace',
    last: 'Martin'
  },
  phone: '+1-555-3391',
  address: {
    street: '4137 Main St',
    city: 'Chicago',
    state: 'IL',
    zipCode: '60601',
    country: 'USA'
  },
  preferences: {
    newsletter: true,
    notifications: true,
    currency: 'USD',
    language: 'en'
  },
  role: 'customer',
  status: 'active',
  createdAt: 2023-01-15T09:07:35.795Z,
  lastLogin: 2024-12-25T22:12:30.158Z
}


db.users.findOne({ email: "archive@example.com" })
null




const result = db.users.deleteMany({ status: "test" })
{
  acknowledged: true,
  deletedCount: 0
}



db.users.deleteOne({ email: "doesnotexist@example.com" })
{
  acknowledged: true,
  deletedCount: 0
}