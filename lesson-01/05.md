db.users.find({
  role: "customer",
  status: "active",
  "preferences.newsletter": true
})
{
  _id: ObjectId('68f0f405332a72f18d7f8f85'),
  email: 'liam.davis@gmail.com',
  password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
  name: {
    first: 'Liam',
    last: 'Davis'
  },
  phone: '+1-555-6790',
  address: {
    street: '5051 Broadway',
    city: 'Austin',
    state: 'TX',
    zipCode: '73301',
    country: 'USA'
  },
  preferences: {
    newsletter: true,
    notifications: true,
    currency: 'USD',
    language: 'en'
  },
  role: 'customer',
  status: 'active',
  createdAt: 2023-08-06T00:54:52.773Z,
  lastLogin: 2024-06-20T00:45:37.257Z
}




db.products.find({
  category: "Electronics",
  price: {
    $gte: 100,
    $lte: 500
  }
})










db.products.find({
  status: { $ne: "archived" }
})
{
  _id: ObjectId('68f114b617cda4554e0d05d1'),
  SKU: 'TEST-TYPES-001',
  Name: 'Data Types Demo Product',
  Price: 99.99,
  Quantity: 100,
  InStock: true,
  Tags: [
    'demo',
    'test'
  ],
  Dimensions: {
    length: 10.5,
    width: 5.25,
    height: 2
  },
  ReleaseDate: 2024-01-15T00:00:00.000Z,
  Metadata: null
}


db.products.find({
  status: { $not: { $eq: "archived" } }
})
  _id: ObjectId('68f114b617cda4554e0d05d1'),
  SKU: 'TEST-TYPES-001',
  Name: 'Data Types Demo Product',
  Price: 99.99,
  Quantity: 100,
  InStock: true,
  Tags: [
    'demo',
    'test'
  ],
  Dimensions: {
    length: 10.5,
    width: 5.25,
    height: 2
  },
  ReleaseDate: 2024-01-15T00:00:00.000Z,
  Metadata: null




db.users.find({
  $or: [
    { role: "admin" },
    { status: "inactive" }
  ]
})
{
  _id: ObjectId('68f0f405332a72f18d7f8f80'),
  email: 'yara.martinez@example.com',
  password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
  name: {
    first: 'Yara',
    last: 'Martinez'
  },
  phone: '+1-555-9728',
  address: {
    street: '8525 Park Ave',
    city: 'Phoenix',
    state: 'AZ',
    zipCode: '85001',
    country: 'USA'
  },
  preferences: {
    newsletter: true,
    notifications: true,
    currency: 'USD',
    language: 'en'
  },
  role: 'admin',
  status: 'active',
  createdAt: 2023-02-14T13:29:51.144Z,
  lastLogin: 2025-05-27T21:15:28.397Z
}



db.products.find({
  $or: [
    { category: "Electronics" },
    { category: "Accessories" }
  ],
  price: { $lt: 200 },
  status: "active"
})







db.products.find({
  tags: { $ne: "discontinued" }
})
{
  _id: ObjectId('68f114b617cda4554e0d05d1'),
  SKU: 'TEST-TYPES-001',
  Name: 'Data Types Demo Product',
  Price: 99.99,
  Quantity: 100,
  InStock: true,
  Tags: [
    'demo',
    'test'
  ],
  Dimensions: {
    length: 10.5,
    width: 5.25,
    height: 2
  },
  ReleaseDate: 2024-01-15T00:00:00.000Z,
  Metadata: null
}






db.products.find({
  tags: { $not: { $in: ["discontinued"] } }
})
{
  _id: ObjectId('68f114b617cda4554e0d05d1'),
  SKU: 'TEST-TYPES-001',
  Name: 'Data Types Demo Product',
  Price: 99.99,
  Quantity: 100,
  InStock: true,
  Tags: [
    'demo',
    'test'
  ],
  Dimensions: {
    length: 10.5,
    width: 5.25,
    height: 2
  },
  ReleaseDate: 2024-01-15T00:00:00.000Z,
  Metadata: null
}




db.products.find({
  tags: { $all: ["wireless", "premium", "bluetooth"] }
})

db.products.find({
  tags: { $in: ["sale", "clearance", "discount"] }
})


db.products.find({
  tags: { $size: 3 }
})





db.users.find({
  phone: { $exists: false }
})
{
  _id: ObjectId('68f113d117cda4554e0d05d0'),
  Name: 'Auto ID User',
  Email: 'auto.id@example.com'
}


db.users.find({
  $or: [
    { phone: { $exists: false } },
    { phone: null }
  ]
})

{
  _id: ObjectId('68f113d117cda4554e0d05d0'),
  Name: 'Auto ID User',
  Email: 'auto.id@example.com'
}


db.products.find({
  name: { $regex: /laptop/i },
  price: { $gte: 800, $lte: 2000 },
  status: "active",
  tags: { $exists: true, $ne: [] }
})


db.users.find({
  role: "customer",
  status: "active",
  "preferences.newsletter": true,
  email: {
    $not: { $regex: /(test|delete)/i }
  }
})
{
  _id: ObjectId('68f0f405332a72f18d7f8f85'),
  email: 'liam.davis@gmail.com',
  password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
  name: {
    first: 'Liam',
    last: 'Davis'
  },
  phone: '+1-555-6790',
  address: {
    street: '5051 Broadway',
    city: 'Austin',
    state: 'TX',
    zipCode: '73301',
    country: 'USA'
  },
  preferences: {
    newsletter: true,
    notifications: true,
    currency: 'USD',
    language: 'en'
  },
  role: 'customer',
  status: 'active',
  createdAt: 2023-08-06T00:54:52.773Z,
  lastLogin: 2024-06-20T00:45:37.257Z
}




db.products.find({
  status: "active",
  $or: [
    { quantity: { $lt: 10 } },
    { quantity: { $exists: false } }
  ]
})


const oneYearAgo = new Date()
oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1)

db.products.updateMany(
  {
    status: "active",
    createdAt: { $lt: oneYearAgo }
  },
  {
    $set: {
      status: "archived",
      archivedAt: new Date()
    }
  }
)
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 0,
  modifiedCount: 0,
  upsertedCount: 0
}



db.products.updateMany(
  {
    category: "Electronics",
    price: { $gt: 200 },
    tags: "sale"
  },
  {
    $mul: { price: 0.85 },
    $addToSet: { tags: "discounted" },
    $set: {
      saleEnds: ISODate("2024-02-01T00:00:00Z")
    }
  }
){
  acknowledged: true,
  insertedId: null,
  matchedCount: 0,
  modifiedCount: 0,
  upsertedCount: 0
}





db.users.find({
  $or: [
    { email: { $regex: /(test|delete)/i } },
    { status: "test" }
  ]
})





db.users.countDocuments({
  $or: [
    { email: { $regex: /(test|delete)/i } },
    { status: "test" }
  ]
})
0






db.products.aggregate([
  {
    $group: {
      _id: "$status",
      count: { $sum: 1 }
    }
  }
])
{
  _id: null,
  count: 4
}





db.products.find().sort({ price: -1 }).limit(1)
{
  _id: ObjectId('68f110f217cda4554e0d05c4'),
  SKU: 'HDPHN-SONY-WH1000XM5',
  Name: 'Sony WH-1000XM5 Wireless Headphones',
  Description: 'Industry-leading noise cancellation with premium sound quality',
  Category: 'Electronics',
  Subcategory: 'Headphones',
  Brand: 'Sony',
  Price: 399.99,
  Currency: 'USD',
  Tags: [
    'wireless',
    'noise-cancelling',
    'premium',
    'bluetooth'
  ],
  Status: 'active',
  Featured: true,
  Specifications: {
    type: 'Over-ear',
    connectivity: 'Bluetooth 5.2',
    batteryLife: '30 hours',
    noiseCancellation: true
  }
}








db.users.find().sort({ createdAt: -1 }).limit(10)
{
  _id: ObjectId('68f0f405332a72f18d7f8f83'),
  email: 'katherine.moore@example.com',
  password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
  name: {
    first: 'Katherine',
    last: 'Moore'
  },
  phone: '+1-555-3990',
  address: {
    street: '4599 Market St',
    city: 'Seattle',
    state: 'WA',
    zipCode: '98101',
    country: 'USA'
  },
  preferences: {
    newsletter: true,
    notifications: false,
    currency: 'USD',
    language: 'en'
  },
  role: 'customer',
  status: 'active',
  createdAt: 2023-08-20T16:51:20.879Z,
  lastLogin: 2024-11-19T07:57:17.163Z
}



db.products.countDocuments({ status: "active" })
0


db.products.find({ price: { $gt: 1000 } }).toArray()
[]



db.users.find({ role: "customer" }).toArray().filter(u => u.status === "active")
[
  {
    _id: ObjectId('68f0f405332a72f18d7f8f68'),
    email: 'isabella.thompson@example.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Isabella', last: 'Thompson' },
    phone: '+1-555-4926',
    address: {
      street: '8073 Park Ave',
      city: 'San Diego',
      state: 'CA',
      zipCode: '92101',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: false,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-11-12T09:37:43.524Z,
    lastLogin: 2025-10-10T00:04:09.008Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f6a'),
    email: 'tara.lee@example.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Tara', last: 'Lee' },
    phone: '+1-555-5786',
    address: {
      street: '7636 Elm St',
      city: 'Philadelphia',
      state: 'PA',
      zipCode: '19019',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-04-15T01:29:44.159Z,
    lastLogin: 2024-07-23T00:41:00.441Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f6b'),
    email: 'diana.martin@gmail.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Diana', last: 'Martin' },
    phone: '+1-555-5565',
    address: {
      street: '1392 Broadway',
      city: 'Houston',
      state: 'TX',
      zipCode: '77001',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: false,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-02-25T23:43:17.436Z,
    lastLogin: 2024-07-07T15:58:11.462Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f6c'),
    email: 'peter.lopez@outlook.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Peter', last: 'Lopez' },
    phone: '+1-555-9240',
    address: {
      street: '195 Market St',
      city: 'Chicago',
      state: 'IL',
      zipCode: '60601',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: false,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-03-16T10:56:47.604Z,
    lastLogin: 2024-11-30T06:15:20.031Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f6d'),
    email: 'yara.garcia@outlook.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Yara', last: 'Garcia' },
    phone: '+1-555-8534',
    address: {
      street: '6899 Market St',
      city: 'Denver',
      state: 'CO',
      zipCode: '80201',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-11-23T02:34:09.696Z,
    lastLogin: 2024-10-06T15:48:01.712Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f6e'),
    email: 'zachary.harris@gmail.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Zachary', last: 'Harris' },
    phone: '+1-555-3301',
    address: {
      street: '6550 Park Ave',
      city: 'San Antonio',
      state: 'TX',
      zipCode: '78201',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-12-11T10:31:43.247Z,
    lastLogin: 2024-06-14T07:35:53.964Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f6f'),
    email: 'bob.smith@example.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Bob', last: 'Smith' },
    phone: '+1-555-2100',
    address: {
      street: '7251 Cedar Ln',
      city: 'San Jose',
      state: 'CA',
      zipCode: '95101',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-12-16T07:52:46.965Z,
    lastLogin: 2024-07-17T08:35:07.359Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f70'),
    email: 'frank.martin@example.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Frank', last: 'Martin' },
    phone: '+1-555-1389',
    address: {
      street: '3127 Maple Dr',
      city: 'San Diego',
      state: 'CA',
      zipCode: '92101',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-11-23T22:52:04.803Z,
    lastLogin: 2025-04-09T13:19:18.993Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f73'),
    email: 'grace.martin@example.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Grace', last: 'Martin' },
    phone: '+1-555-4687',
    address: {
      street: '1052 Main St',
      city: 'Los Angeles',
      state: 'CA',
      zipCode: '90001',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-07-05T13:15:27.754Z,
    lastLogin: 2024-02-06T12:21:21.091Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f77'),
    email: 'uma.smith@gmail.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Uma', last: 'Smith' },
    phone: '+1-555-1462',
    address: {
      street: '6615 Market St',
      city: 'Philadelphia',
      state: 'PA',
      zipCode: '19019',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-04-03T12:39:49.806Z,
    lastLogin: 2024-12-12T21:58:59.909Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f7a'),
    email: 'noah.lopez@example.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Noah', last: 'Lopez' },
    phone: '+1-555-8080',
    address: {
      street: '9832 Broadway',
      city: 'San Diego',
      state: 'CA',
      zipCode: '92101',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-06-24T20:16:15.506Z,
    lastLogin: 2024-05-15T00:20:14.884Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f7b'),
    email: 'wendy.davis@yahoo.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Wendy', last: 'Davis' },
    phone: '+1-555-5405',
    address: {
      street: '8627 Broadway',
      city: 'Seattle',
      state: 'WA',
      zipCode: '98101',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: false,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-01-16T15:51:27.819Z,
    lastLogin: 2024-03-15T13:41:54.488Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f7c'),
    email: 'grace.martin@yahoo.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Grace', last: 'Martin' },
    phone: '+1-555-3391',
    address: {
      street: '4137 Main St',
      city: 'Chicago',
      state: 'IL',
      zipCode: '60601',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-01-15T09:07:35.795Z,
    lastLogin: 2024-12-25T22:12:30.158Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f7d'),
    email: 'jack.martinez@gmail.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Jack', last: 'Martinez' },
    phone: '+1-555-9433',
    address: {
      street: '3411 Broadway',
      city: 'San Antonio',
      state: 'TX',
      zipCode: '78201',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-08-07T03:29:38.769Z,
    lastLogin: 2024-10-25T17:16:40.451Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f7e'),
    email: 'liam.jackson@outlook.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Liam', last: 'Jackson' },
    phone: '+1-555-6993',
    address: {
      street: '9466 Washington Blvd',
      city: 'San Antonio',
      state: 'TX',
      zipCode: '78201',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-02-04T15:23:03.456Z,
    lastLogin: 2025-09-10T11:15:21.868Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f7f'),
    email: 'victor.martinez@yahoo.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Victor', last: 'Martinez' },
    phone: '+1-555-3712',
    address: {
      street: '6695 Broadway',
      city: 'New York',
      state: 'NY',
      zipCode: '10001',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-07-03T10:27:12.029Z,
    lastLogin: 2024-06-04T19:09:58.365Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f81'),
    email: 'isabella.moore@outlook.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Isabella', last: 'Moore' },
    phone: '+1-555-8864',
    address: {
      street: '5201 Washington Blvd',
      city: 'Austin',
      state: 'TX',
      zipCode: '73301',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-05-23T09:15:40.082Z,
    lastLogin: 2025-07-10T13:52:17.965Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f83'),
    email: 'katherine.moore@example.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Katherine', last: 'Moore' },
    phone: '+1-555-3990',
    address: {
      street: '4599 Market St',
      city: 'Seattle',
      state: 'WA',
      zipCode: '98101',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: false,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-08-20T16:51:20.879Z,
    lastLogin: 2024-11-19T07:57:17.163Z
  },
  {
    _id: ObjectId('68f0f405332a72f18d7f8f85'),
    email: 'liam.davis@gmail.com',
    password: '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WSTt7ehTV',
    name: { first: 'Liam', last: 'Davis' },
    phone: '+1-555-6790',
    address: {
      street: '5051 Broadway',
      city: 'Austin',
      state: 'TX',
      zipCode: '73301',
      country: 'USA'
    },
    preferences: {
      newsletter: true,
      notifications: true,
      currency: 'USD',
      language: 'en'
    },
    role: 'customer',
    status: 'active',
    createdAt: 2023-08-06T00:54:52.773Z,
    lastLogin: 2024-06-20T00:45:37.257Z
  }
]









db.users.createIndex({ email: 1 })
email_1
